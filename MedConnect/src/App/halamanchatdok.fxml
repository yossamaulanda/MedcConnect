<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="App.Controllerchatdok"
            prefWidth="1200.0"
            prefHeight="800.0"
            style="-fx-background-color: linear-gradient(to bottom, #f3edff, #faf7ff);">

    <!-- Decorative Header Bar -->
    <Region style="-fx-background-color: linear-gradient(to right, #f48c2a, #ff9f3a); -fx-pref-width: 1200; -fx-pref-height: 4;"
            AnchorPane.topAnchor="0"
            AnchorPane.leftAnchor="0" />

    <!-- Back Button -->
    <Button fx:id="btnBack"
            text="← Kembali"
            onAction="#handleBack"
            style="-fx-background-color: linear-gradient(to right, #f48c2a, #ff9f3a); -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 20; -fx-padding: 8 16 8 16; -fx-effect: dropshadow(gaussian, rgba(244,140,42,0.3), 6, 0.3, 0, 2);"
            AnchorPane.topAnchor="15"
            AnchorPane.leftAnchor="20" />

    <!-- Main Content Container -->
    <VBox spacing="25"
          alignment="TOP_CENTER"
          AnchorPane.topAnchor="70"
          AnchorPane.leftAnchor="40"
          AnchorPane.rightAnchor="40"
          AnchorPane.bottomAnchor="40">

        <!-- Page Title with Enhanced Styling -->
        <VBox alignment="CENTER" spacing="8">
            <Label text="Ruang Konsultasi Pasien"
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: linear-gradient(to right, #f48c2a, #ff9f3a); -fx-effect: dropshadow(gaussian, rgba(244,140,42,0.2), 4, 0.2, 0, 1);" />
            <Region style="-fx-background-color: linear-gradient(to right, #f48c2a, #ff9f3a); -fx-pref-width: 150; -fx-pref-height: 3; -fx-background-radius: 3;" />
        </VBox>

        <!-- Filter Section with Enhanced Design -->
        <HBox alignment="CENTER" spacing="10">
            <Label text="Filter:" 
                   style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #666;" />
            <ComboBox fx:id="filterComboBox"
                      promptText="Pilih Filter Pasien"
                      style="-fx-font-size: 14px; -fx-pref-width: 220px; -fx-background-color: white; -fx-background-radius: 15; -fx-border-radius: 15; -fx-border-color: #f48c2a; -fx-border-width: 2; -fx-effect: dropshadow(gaussian, rgba(244,140,42,0.2), 4, 0.2, 0, 1);" />
        </HBox>

        <!-- Patient Chat List Container with Enhanced Design -->
        <ScrollPane fitToWidth="true" 
                    style="-fx-background-color: transparent; -fx-border-color: transparent;">
            <VBox spacing="18"
                  style="-fx-background-color: white; -fx-padding: 25; -fx-background-radius: 20; -fx-effect: dropshadow(two-pass-box, rgba(0,0,0,0.15), 12, 0.3, 0, 4); -fx-border-color: rgba(244,140,42,0.1); -fx-border-width: 1; -fx-border-radius: 20;">

                <!-- Patient Chat 1 - Azmi -->
                <VBox spacing="8"
                      onMouseClicked="#handleOpenChatAzmi"
                      style="-fx-background-color: linear-gradient(to right, #ffffff, #fefefe); -fx-padding: 18; -fx-background-radius: 15; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0.2, 0, 3); -fx-border-color: rgba(244,140,42,0.1); -fx-border-width: 1; -fx-border-radius: 15;">
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Region style="-fx-background-color: #f48c2a; -fx-pref-width: 4; -fx-pref-height: 40; -fx-background-radius: 2;" />
                        <VBox spacing="4">
                            <Label text="Azmi"
                                   style="-fx-font-weight: bold; -fx-text-fill: #333; -fx-font-size: 16px;" />
                            <Label text="Dokter, saya merasa demam dan sakit tenggorokan sejak 2 hari yang lalu. Bagaimana cara mengatasinya?"
                                   style="-fx-text-fill: #666; -fx-font-size: 13px; -fx-wrap-text: true;" />
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Patient Chat 2 - Ibra -->
                <VBox spacing="8"
                      onMouseClicked="#handleOpenChatIbra"
                      style="-fx-background-color: linear-gradient(to right, #ffffff, #fefefe); -fx-padding: 18; -fx-background-radius: 15; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0.2, 0, 3); -fx-border-color: rgba(244,140,42,0.1); -fx-border-width: 1; -fx-border-radius: 15;">
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Region style="-fx-background-color: #f48c2a; -fx-pref-width: 4; -fx-pref-height: 40; -fx-background-radius: 2;" />
                        <VBox spacing="4">
                            <Label text="Ibra"
                                   style="-fx-font-weight: bold; -fx-text-fill: #333; -fx-font-size: 16px;" />
                            <Label text="Selamat pagi Dokter, saya ingin kontrol rutin untuk diabetes saya"
                                   style="-fx-text-fill: #666; -fx-font-size: 13px; -fx-wrap-text: true;" />
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Patient Chat 3 - Abdil -->
                <VBox spacing="8"
                      onMouseClicked="#handleOpenChatAbdil"
                      style="-fx-background-color: linear-gradient(to right, #ffffff, #fefefe); -fx-padding: 18; -fx-background-radius: 15; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0.2, 0, 3); -fx-border-color: rgba(244,140,42,0.1); -fx-border-width: 1; -fx-border-radius: 15;">
                    <HBox alignment="CENTER_LEFT" spacing="12">
                        <Region style="-fx-background-color: #f48c2a; -fx-pref-width: 4; -fx-pref-height: 40; -fx-background-radius: 2;" />
                        <VBox spacing="4">
                            <Label text="Abdil"
                                   style="-fx-font-weight: bold; -fx-text-fill: #333; -fx-font-size: 16px;" />
                            <Label text="Dokter, saya mengalami nyeri perut dan mual. Apakah ada yang perlu saya khawatirkan?"
                                   style="-fx-text-fill: #666; -fx-font-size: 13px; -fx-wrap-text: true;" />
                        </VBox>
                    </HBox>
                </VBox>

            </VBox>
        </ScrollPane>

    </VBox>

    <!-- Decorative Bottom Element -->
    <Region style="-fx-background-color: linear-gradient(to right, #f48c2a, #ff9f3a); -fx-opacity: 0.3; -fx-pref-width: 1200; -fx-pref-height: 2;"
            AnchorPane.bottomAnchor="0"
            AnchorPane.leftAnchor="0" />

</AnchorPane>